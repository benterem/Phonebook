{"version":3,"sources":["services/contacts.js","components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","search","handleFunction","value","onChange","Persons","name","number","deleteContact","onClick","PersonForm","props","onSubmit","addContact","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","style","message","SuccessNotification","color","background","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","contactList","setContactList","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","contactService","initialPersons","notification","success","setTimeout","window","confirm","console","log","catch","error","finally","filter","p","event","target","length","c","toLowerCase","includes","preventDefault","person","find","changedContact","returnedContact","map","updateNumber","alert","concat","i","ReactDOM","render","document","getElementById"],"mappings":"6LACMA,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACG,GAEZ,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAACG,EAAIF,GAEhB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCT9BM,EATA,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,eACtB,OAAQ,2CACA,uBACNC,MAAOF,EACPG,SAAUF,QCSDG,EAbC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cAE7B,OACE,8BACGF,EADH,MACYC,EAAQ,IAClB,wBACAE,QAASD,EADT,wBCmBOE,EAxBI,SAACC,GAEhB,OACE,uBAAMC,SAAUD,EAAME,WAAtB,UACE,yCACQ,uBACNV,MAAOQ,EAAMG,QACbV,SAAUO,EAAMI,sBAGlB,uBACA,2CACU,uBACRZ,MAAOQ,EAAMK,UACbZ,SAAUO,EAAMM,wBAGlB,8BACE,wBAAQC,KAAK,SAAb,uBCHKC,EAfM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAI3B,OAAe,OAAZA,EACQ,KAIP,qBAAKD,MAAOA,EAAZ,SACKC,KCSEC,EAlBa,SAAC,GAAiB,IAAfD,EAAc,EAAdA,QAa3B,OACI,cAAC,EAAD,CAAcA,QAASA,EAASD,MAZtB,CACVG,MAAO,QACPC,WAAY,YACZC,UAAW,OACXC,SAAU,GACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,WCQPC,EAlBW,SAAC,GAAiB,IAAfV,EAAc,EAAdA,QAazB,OACI,cAAC,EAAD,CAAcA,QAASA,EAASD,MAZtB,CACVG,MAAO,MACPC,WAAY,YACZC,UAAW,OACXC,SAAU,GACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,WCgIPE,EApIH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQC,EAAR,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAQnB,EAAR,KAAiBsB,EAAjB,KACA,EAAoCH,mBAAS,IAA7C,mBAAQjB,EAAR,KAAmBqB,EAAnB,KACA,EAA8BJ,mBAAS,IAAvC,mBAAQhC,EAAR,KAAgBqC,EAAhB,KACA,EAAuCL,mBAAS,IAAhD,mBAAQM,EAAR,KAAqBC,EAArB,KACA,EAA4CP,mBAAS,MAArD,mBAAOQ,EAAP,KAAuBC,EAAvB,KACA,EAAwCT,mBAAS,MAAjD,mBAAOU,EAAP,KAAqBC,EAArB,KAWAC,qBATa,WACXC,IAEGtD,MAAK,SAAAuD,GACJZ,EAAWY,GACXP,EAAeO,QAIL,IAEhB,IAAMC,EAAe,SAAC3B,EAAS4B,GAC1BA,GACDP,EAAkBrB,GAClB6B,YAAW,kBAAMR,EAAkB,QAAO,OAE1CE,EAAgBvB,GAChB6B,YAAW,kBAAMN,EAAgB,QAAO,OAkEtCpC,EAAgB,SAACF,EAAMT,GAC3BsD,OAAOC,QAAP,iBAAyB9C,EAAzB,MACAwC,EACUjD,GACPL,MAAK,WACJ6D,QAAQC,IAAI9C,MACX+C,OAAM,SAAAC,GACPR,EAAa,kBAAD,OAAmB1C,EAAnB,8CAAoE,MAC/EmD,SAAQ,WACTtB,EAAWD,EAAQwB,QAAO,SAAAC,GAAC,OAAIA,EAAE9D,KAAOA,MACxC2C,EAAeN,EAAQwB,QAAO,SAAAC,GAAC,OAAIA,EAAE9D,KAAOA,UAIlD,OACE,gCACE,2CACA,cAAC,EAAD,CAAqBwB,QAASoB,IAC9B,cAAC,EAAD,CAAmBpB,QAASsB,IAC5B,uBACE,cAAC,EAAD,CAAQ1C,OAAQA,EAAQC,eA7BT,SAAC0D,GACpBtB,EAAUsB,EAAMC,OAAO1D,OACU,IAA9ByD,EAAMC,OAAO1D,MAAM2D,OACpBtB,EAAeN,GAEfM,EAAeD,EAAYmB,QAAO,SAAAK,GAAC,OAAIA,EAAEzD,KAAK0D,cAAcC,SAASL,EAAMC,OAAO1D,MAAM6D,sBAyBxF,6CACE,cAAC,EAAD,CACEnD,WArEW,SAAC+C,GAClBA,EAAMM,iBACN,IAAMC,EAASjC,EAAQkC,MAAK,SAAAT,GAAC,OAAIA,EAAErD,OAASQ,KAC5C,GAAGqD,EACchB,OAAOC,QAAP,UAAkBtC,EAAlB,yEApBE,SAACqD,EAAQnD,GAC5B,IAAMnB,EAAKsE,EAAOtE,GACZwE,EAAc,2BAAOF,GAAP,IAAe5D,OAAOS,IAC1C8B,EACUjD,EAAIwE,GACX7E,MAAK,SAAA8E,GACJnC,EAAWD,EAAQqC,KAAI,SAAAJ,GAAM,OAAIA,EAAOtE,KAAOA,EAC7CsE,EAASG,MAEX9B,EAAeN,EAAQqC,KAAI,SAAAJ,GAAM,OAAIA,EAAOtE,KAAOA,EAC/CsE,EAASG,MAEbtB,EAAa,GAAD,OAAIsB,EAAgBhE,KAApB,iCAAiDgE,EAAgB/D,SAAU,MAUvFiE,CAAaL,EAAQnD,QAEnB,GAAIkB,EAAQkC,MAAK,SAAAD,GAAM,OAAIA,EAAO5D,SAAWS,KACjDyD,MAAM,GAAD,OAAIzD,EAAJ,wCACD,CAKJ8B,EAJsB,CACpBxC,KAAMQ,EACNP,OAAQS,IAIPxB,MACC,SAAA8E,GACEnC,EAAWD,EAAQwC,OAAQJ,IAC3B9B,EAAeD,EAAYmC,OAAOJ,IAClCtB,EAAa,SAAD,OAAUsB,EAAgBhE,OAAQ,MAItD8B,EAAW,IACXC,EAAa,KA4CPvB,QAASA,EACTC,iBA1CiB,SAAC6C,GACxBxB,EAAWwB,EAAMC,OAAO1D,QA0ClBa,UAAWA,EACXC,mBAxCmB,SAAC2C,GAC1BvB,EAAauB,EAAMC,OAAO1D,UAyCxB,yCACDoC,EAAYgC,KAAI,SAACJ,EAAQQ,GAAT,OAAyB,cAAC,EAAD,CAExCrE,KAAM6D,EAAO7D,KACbC,OAAQ4D,EAAO5D,OACfC,cAAe,kBAAMA,EAAc2D,EAAO7D,KAAM6D,EAAOtE,MAHlD8E,U,MC/HXC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.05b54bb2.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Filter = ({ search, handleFunction }) => {\n    return (<div>\n    search: <input \n      value={search}\n      onChange={handleFunction}\n    />\n    </div>)\n}\n\nexport default Filter","import React from 'react'\n\nconst Persons = ({ name, number, deleteContact }) => {\n  \n    return(\n      <p>\n        {name} : {number}{' '}\n        <button \n        onClick={deleteContact}>\n          delete\n        </button>\n      </p>\n    )\n  }\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = (props) => {\n\n    return (\n      <form onSubmit={props.addContact}>\n        <div>\n          name: <input \n          value={props.newName}\n          onChange={props.handleNameChange}\n        />\n        </div>\n        <br/>\n        <div>\n          number: <input \n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n        />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ style, message }) => {\n\n    \n\n    if(message === null){\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\nimport Notification from './Notification'\n\nconst SuccessNotification = ({ message }) => {\n    \n    const style = {\n        color: 'green',\n        background: 'lightgrey',\n        fontStyle: 'bold',\n        fontSize: 16,\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    return (\n        <Notification message={message} style={style} />\n    )\n}\n\nexport default SuccessNotification","import React from 'react'\nimport Notification from './Notification'\n\nconst ErrorNotification = ({ message }) => {\n    \n    const style = {\n        color: 'red',\n        background: 'lightgrey',\n        fontStyle: 'bold',\n        fontSize: 16,\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    return (\n        <Notification message={message} style={style} />\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport contactService from './services/contacts'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ contactList, setContactList] = useState([])\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  \n  const hook = () => {\n    contactService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        setContactList(initialPersons)\n    })\n  }\n\n  useEffect(hook, [])\n  \n  const notification = (message, success) => {\n    if(success){\n      setSuccessMessage(message)\n      setTimeout(() => setSuccessMessage(null), 5000)\n    } else {\n      setErrorMessage(message)\n      setTimeout(() => setErrorMessage(null), 5000)\n    }\n  }\n\n  const updateNumber = (person, newNumber) => {\n    const id = person.id\n    const changedContact = {...person, number:newNumber}\n    contactService\n      .update(id, changedContact)\n      .then(returnedContact => {\n        setPersons(persons.map(person => person.id !== id\n        ? person : returnedContact  \n        ))\n        setContactList(persons.map(person => person.id !== id\n          ? person : returnedContact  \n          ))\n        notification(`${returnedContact.name}'s number updated to: ${returnedContact.number}`, true)\n      })\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.name === newName)\n    if(person){\n      const change = window.confirm(`${newName} is already added to phonebook. Do you want to update their number?`)\n      if(change){\n        updateNumber(person, newNumber)\n      }\n    }else if (persons.find(person => person.number === newNumber)){\n      alert(`${newNumber} is already added to phone book`)\n    } else{\n      const contactObject = {\n        name: newName,\n        number: newNumber\n      }\n      contactService\n      .create(contactObject)\n        .then(\n          returnedContact => {\n            setPersons(persons.concat (returnedContact))\n            setContactList(contactList.concat(returnedContact))\n            notification(`Added ${returnedContact.name}`, true)\n          }\n      )\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n    if(event.target.value.length === 0){\n      setContactList(persons)\n    }else {\n      setContactList(contactList.filter(c => c.name.toLowerCase().includes(event.target.value.toLowerCase())))\n    }\n  }\n\n  const deleteContact = (name, id) => {\n    window.confirm(`Delete ${name}?`)\n    contactService\n      .remove(id)\n      .then(() => {\n        console.log(deleteContact)\n      }).catch(error => {\n        notification(`Information of ${name} has already been removed from the server`, false)\n      }).finally(() => {\n        setPersons(persons.filter(p => p.id !== id))\n        setContactList(persons.filter(p => p.id !== id))\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <br />\n        <Filter search={search} handleFunction={handleSearch}/>\n      <h2>Add Contact</h2>\n        <PersonForm \n          addContact={addContact}\n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n    {contactList.map((person, i) =>           <Persons \n      key={i} \n      name={person.name} \n      number={person.number}\n      deleteContact={() => deleteContact(person.name, person.id)}\n      />)}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}